#!/bin/sh

export XDIALOG_NO_GMSGS=1

case ${1} in
    +) VOL=( $(amixer set Master 10dB+ |tail -1) ); VOL="${VOL[3]}"; VOL=${VOL//\]/}; VOL=${VOL//\[/}
        Xdialog --no-buttons --title "Vol" --infobox "$VOL" 50x30+32+32 ;;
    -) VOL=( $(amixer set Master 10dB- |tail -1) ); VOL="${VOL[3]}"; VOL=${VOL//\]/}; VOL=${VOL//\[/}
        Xdialog --no-buttons --title "Vol" --infobox "$VOL" 50x30+32+32 ;;
    *[0-9]) VOL=( $(amixer set Master "${1}%" |tail -1) ); VOL="${VOL[3]}"; VOL=${VOL//\]/}; VOL=${VOL//\[/}
        Xdialog --no-buttons --title "Vol" --infobox "$VOL" 50x30+32+32 ;;
    *) printf "Usage: vol [+] | [-] | [0-100]\n" >&2 ;;
esac
