#!/bin/bash
#
# Place applications to be executed when WindowMaker is started here.
# This should only be used for non-X applications or applications that
# do not support session management. Other applications should be restarted
# by the WindowMaker session restoring mechanism. For that, you should
# either set SaveSessionOnExit=YES or select "Save Session" in the Workspace
# submenu of the root menu when all applications you want started are
# running.
#
# WindowMaker will wait until this script finishes, so if you run any
# commands that take long to execute (like a xterm), put a ``&'' in the
# end of the command line.
#
# This file must be executable.
#
# xset m 20/10 4 # Mouse acceleration

# No double sourcing
[[ ! $(command -v rcm) ]] && source ~/.bashrc.d/functions.sh

# Replace "${APPS}" list with your desired applets.
# APPS=(wmfire wmclockmon wmsystemtray wmMatrix wmbinclock wmbutton wmifinfo wmnd wmmon wmcpuload wmsysmon wmmemload wmacpi wmtime wmcalc wmSpaceWeather wmudmount wmmp3)
# APPS=(wmclockmon wmsystemtray wmifinfo wmacpi wmsysmon wmMatrix wmfire wmBinClock)
APPS=( "wmclockmon" "wmsystemtray" "wmifinfo" "wmacpi" "wmsysmon" "wmBinClock" )
for APP in "${APPS[@]}"; do
    rcm 9 "${APP}"
done

# Run this to update your Root menu to reflect themes or apps changes
cp ~/GNUstep/Defaults/WMRootMenu ~/GNUstep/Defaults/`date +%s`WMRootMenu # Backup Root menu
wmgenmenu > ~/GNUstep/Defaults/WMRootMenu # Write new menu

rcm 9 compton -b

pmg="${HOME}/bin/pimp_my_gui.sh"
if [[ -x "${pmg}" ]]; then # If spice ...
    "${pmg}" & # Spice things up
fi
